{"ast":null,"code":"import _toConsumableArray from\"C:/Users/prcue/OneDrive/Curso 4/TFG GITT/5. Desarrollo/3. Frontend/frontend_v3/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"C:/Users/prcue/OneDrive/Curso 4/TFG GITT/5. Desarrollo/3. Frontend/frontend_v3/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/prcue/OneDrive/Curso 4/TFG GITT/5. Desarrollo/3. Frontend/frontend_v3/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/prcue/OneDrive/Curso 4/TFG GITT/5. Desarrollo/3. Frontend/frontend_v3/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{useAuth}from\"./AuthContext\";import{useNavigate}from\"react-router-dom\";import{fetchHashes,refreshToken,saveHash}from\"./apiServices\";import DataTable from\"./DataTable\";import LoadingComponent from\"./LoadingComponent\";import NotLoggedInComponent from\"./NotLoggedInComponent\";import{MDBBtn,MDBModal,MDBModalDialog,MDBModalContent,MDBModalHeader,MDBModalTitle,MDBInput,MDBModalBody,MDBTextArea,MDBCard,MDBCardHeader,MDBCardBody}from\"mdb-react-ui-kit\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Dashboard=function Dashboard(){var navigate=useNavigate();var _useAuth=useAuth(),currentUser=_useAuth.currentUser;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),hashData=_useState2[0],setHashData=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),hashValue=_useState4[0],setHashValue=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),description=_useState6[0],setDescription=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),showModal=_useState8[0],setShowModal=_useState8[1];var toggleShow=function toggleShow(){setShowModal(!showModal);};var handleHashChange=function handleHashChange(e){setHashValue(e.target.value);};var handleDescriptionChange=function handleDescriptionChange(e){setDescription(e.target.value);};useEffect(function(){if(!currentUser)return;var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetchHashes();case 3:data=_context.sent;setHashData(data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);handleFetchError(_context.t0);case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();var handleFetchError=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(error){var tokenData,data,errorMessage,_errorMessage;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:if(!(error.response&&error.response.status===401)){_context2.next=20;break;}_context2.prev=1;_context2.next=4;return refreshToken();case 4:tokenData=_context2.sent;localStorage.setItem(\"access_token\",tokenData.access);console.log(\"Token refreshed.\");_context2.next=9;return fetchHashes();case 9:data=_context2.sent;setHashData(data);_context2.next=18;break;case 13:_context2.prev=13;_context2.t0=_context2[\"catch\"](1);errorMessage=_context2.t0.response?JSON.stringify(_context2.t0.response.data):\"An error occurred while refreshing the token.\";alert(errorMessage);if(_context2.t0.response&&(_context2.t0.response.status===401||_context2.t0.response.status===403)){navigate(\"/login\");}case 18:_context2.next=22;break;case 20:_errorMessage=error.response?JSON.stringify(error.response.data):\"An error occurred.\";alert(\"Error fetching data: \".concat(_errorMessage));case 22:case\"end\":return _context2.stop();}},_callee2,null,[[1,13]]);}));return function handleFetchError(_x){return _ref2.apply(this,arguments);};}();fetchData();},[currentUser,navigate]);var handleSave=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(e){var i,newHash;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:e.preventDefault();_context3.prev=1;i=0;case 3:if(!(i<hashData.length)){_context3.next=10;break;}if(!(hashData[i].hash_value===hashValue)){_context3.next=7;break;}alert(\"Hash already saved!\");return _context3.abrupt(\"return\");case 7:i++;_context3.next=3;break;case 10:_context3.next=12;return saveHash(hashValue,description);case 12:newHash=_context3.sent;alert(\"Information saved successfully!\");// add to hashdata\nsetHashData([].concat(_toConsumableArray(hashData),[newHash]));toggleShow();_context3.next=22;break;case 18:_context3.prev=18;_context3.t0=_context3[\"catch\"](1);console.log(_context3.t0);handleSaveError(_context3.t0);case 22:case\"end\":return _context3.stop();}},_callee3,null,[[1,18]]);}));return function handleSave(_x2){return _ref3.apply(this,arguments);};}();var handleSaveError=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(error){var tokenData,newHash,errorMessage,_errorMessage2;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:if(!(error.response&&error.response.status===401)){_context4.next=19;break;}_context4.prev=1;_context4.next=4;return refreshToken();case 4:tokenData=_context4.sent;localStorage.setItem(\"access_token\",tokenData.access);console.log(\"Token refreshed.\");_context4.next=9;return saveHash(hashValue,description);case 9:newHash=_context4.sent;_context4.next=17;break;case 12:_context4.prev=12;_context4.t0=_context4[\"catch\"](1);errorMessage=_context4.t0.response?JSON.stringify(_context4.t0.response.data):\"An error occurred while refreshing the token.\";alert(errorMessage);if(_context4.t0.response&&(_context4.t0.response.status===401||_context4.t0.response.status===403)){navigate(\"/login\");}case 17:_context4.next=21;break;case 19:_errorMessage2=error.response?JSON.stringify(error.response.data):\"An error occurred.\";alert(\"Error saving data: \".concat(_errorMessage2));case 21:case\"end\":return _context4.stop();}},_callee4,null,[[1,12]]);}));return function handleSaveError(_x3){return _ref4.apply(this,arguments);};}();return currentUser?hashData?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"d-flex align-items-center justify-content-center mt-5\",children:/*#__PURE__*/_jsxs(MDBCard,{style:{maxWidth:\"100rem\"},children:[/*#__PURE__*/_jsx(MDBCardHeader,{color:\"dark\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Manage your stored data\"})}),/*#__PURE__*/_jsx(MDBCardBody,{children:/*#__PURE__*/_jsx(\"p\",{children:\"You can use this tool to manage the information that you store in our server. This information is not in the blockchain.\"})})]})}),/*#__PURE__*/_jsx(DataTable,{hashData:hashData,setHashData:setHashData}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex align-items-center justify-content-center mt-4\",children:/*#__PURE__*/_jsx(MDBBtn,{onClick:toggleShow,children:\"Save new hash\"})}),/*#__PURE__*/_jsx(MDBModal,{show:showModal,setShow:setShowModal,tabIndex:\"-1\",children:/*#__PURE__*/_jsx(MDBModalDialog,{className:\"modal-lg\",children:/*#__PURE__*/_jsxs(MDBModalContent,{children:[/*#__PURE__*/_jsxs(MDBModalHeader,{children:[/*#__PURE__*/_jsx(MDBModalTitle,{children:\"Please enter the required information\"}),/*#__PURE__*/_jsx(MDBBtn,{className:\"btn-close\",color:\"none\",onClick:function onClick(){toggleShow();}})]}),/*#__PURE__*/_jsx(MDBModalBody,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSave,className:\"align-items-center\",children:[/*#__PURE__*/_jsx(MDBInput,{className:\"mt-3\",type:\"text\",id:\"hash_value\",name:\"hash_value\",label:\"Hash\",maxLength:66// bytes32 length in hexadecimal\n,pattern:\"^0x[a-fA-F0-9]{64}$\"// Ensure it starts with 0x and followed by 64 hexadecimal characters\n,value:hashValue// initial value: the hash value of the selected hash\n,onChange:handleHashChange,required:true}),/*#__PURE__*/_jsx(MDBTextArea,{className:\"mt-3\",id:\"description\",name:\"description\",rows:4,label:\"Description\",value:description// initial value: the description of the selected hash\n,onChange:handleDescriptionChange,required:true}),/*#__PURE__*/_jsx(MDBBtn,{type:\"submit\",className:\"mt-4\",block:true,children:\"Update\"})]})})]})})})]}):/*#__PURE__*/_jsx(LoadingComponent,{}):/*#__PURE__*/_jsx(NotLoggedInComponent,{});};export default Dashboard;","map":{"version":3,"names":["React","useEffect","useState","useAuth","useNavigate","fetchHashes","refreshToken","saveHash","DataTable","LoadingComponent","NotLoggedInComponent","MDBBtn","MDBModal","MDBModalDialog","MDBModalContent","MDBModalHeader","MDBModalTitle","MDBInput","MDBModalBody","MDBTextArea","MDBCard","MDBCardHeader","MDBCardBody","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Dashboard","navigate","_useAuth","currentUser","_useState","_useState2","_slicedToArray","hashData","setHashData","_useState3","_useState4","hashValue","setHashValue","_useState5","_useState6","description","setDescription","_useState7","_useState8","showModal","setShowModal","toggleShow","handleHashChange","e","target","value","handleDescriptionChange","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","wrap","_callee$","_context","prev","next","sent","t0","handleFetchError","stop","apply","arguments","_ref2","_callee2","error","tokenData","errorMessage","_errorMessage","_callee2$","_context2","response","status","localStorage","setItem","access","console","log","JSON","stringify","alert","concat","_x","handleSave","_ref3","_callee3","i","newHash","_callee3$","_context3","preventDefault","length","hash_value","abrupt","_toConsumableArray","handleSaveError","_x2","_ref4","_callee4","_errorMessage2","_callee4$","_context4","_x3","children","className","style","maxWidth","color","onClick","show","setShow","tabIndex","onSubmit","type","id","name","label","maxLength","pattern","onChange","required","rows","block"],"sources":["C:/Users/prcue/OneDrive/Curso 4/TFG GITT/5. Desarrollo/3. Frontend/frontend_v3/src/components/Dashboard.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useAuth } from \"./AuthContext\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { fetchHashes, refreshToken, saveHash } from \"./apiServices\";\r\nimport DataTable from \"./DataTable\";\r\nimport LoadingComponent from \"./LoadingComponent\";\r\nimport NotLoggedInComponent from \"./NotLoggedInComponent\";\r\nimport {\r\n  MDBBtn,\r\n  MDBModal,\r\n  MDBModalDialog,\r\n  MDBModalContent,\r\n  MDBModalHeader,\r\n  MDBModalTitle,\r\n  MDBInput,\r\n  MDBModalBody,\r\n  MDBTextArea,\r\n  MDBCard,\r\n  MDBCardHeader,\r\n  MDBCardBody,\r\n} from \"mdb-react-ui-kit\";\r\n\r\nconst Dashboard = () => {\r\n  const navigate = useNavigate();\r\n  const { currentUser } = useAuth();\r\n  const [hashData, setHashData] = useState(null);\r\n  const [hashValue, setHashValue] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [showModal, setShowModal] = useState(false);\r\n  const toggleShow = () => {\r\n    setShowModal(!showModal);\r\n  };\r\n\r\n  const handleHashChange = (e) => {\r\n    setHashValue(e.target.value);\r\n  };\r\n\r\n  const handleDescriptionChange = (e) => {\r\n    setDescription(e.target.value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!currentUser) return;\r\n\r\n    const fetchData = async () => {\r\n      try {\r\n        const data = await fetchHashes();\r\n        setHashData(data);\r\n      } catch (error) {\r\n        handleFetchError(error);\r\n      }\r\n    };\r\n\r\n    const handleFetchError = async (error) => {\r\n      if (error.response && error.response.status === 401) {\r\n        try {\r\n          const tokenData = await refreshToken();\r\n          localStorage.setItem(\"access_token\", tokenData.access);\r\n          console.log(\"Token refreshed.\");\r\n          const data = await fetchHashes();\r\n          setHashData(data);\r\n        } catch (refreshError) {\r\n          const errorMessage = refreshError.response\r\n            ? JSON.stringify(refreshError.response.data)\r\n            : \"An error occurred while refreshing the token.\";\r\n          alert(errorMessage);\r\n\r\n          if (\r\n            refreshError.response &&\r\n            (refreshError.response.status === 401 ||\r\n              refreshError.response.status === 403)\r\n          ) {\r\n            navigate(\"/login\");\r\n          }\r\n        }\r\n      } else {\r\n        const errorMessage = error.response\r\n          ? JSON.stringify(error.response.data)\r\n          : \"An error occurred.\";\r\n        alert(`Error fetching data: ${errorMessage}`);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [currentUser, navigate]);\r\n\r\n  const handleSave = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      //check if hashValue is already in hashData\r\n      for (let i = 0; i < hashData.length; i++) {\r\n        if (hashData[i].hash_value === hashValue) {\r\n          alert(\"Hash already saved!\");\r\n          return;\r\n        }\r\n      }\r\n      const newHash = await saveHash(hashValue, description);\r\n      alert(\"Information saved successfully!\");\r\n      // add to hashdata\r\n      setHashData([...hashData, newHash]);\r\n      toggleShow();\r\n    } catch (error) {\r\n      console.log(error);\r\n      handleSaveError(error);\r\n    }\r\n  };\r\n\r\n  const handleSaveError = async (error) => {\r\n    if (error.response && error.response.status === 401) {\r\n      try {\r\n        const tokenData = await refreshToken();\r\n        localStorage.setItem(\"access_token\", tokenData.access);\r\n        console.log(\"Token refreshed.\");\r\n        const newHash = await saveHash(hashValue, description);\r\n      } catch (refreshError) {\r\n        const errorMessage = refreshError.response\r\n          ? JSON.stringify(refreshError.response.data)\r\n          : \"An error occurred while refreshing the token.\";\r\n        alert(errorMessage);\r\n        if (\r\n          refreshError.response &&\r\n          (refreshError.response.status === 401 ||\r\n            refreshError.response.status === 403)\r\n        ) {\r\n          navigate(\"/login\");\r\n        }\r\n      }\r\n    } else {\r\n      const errorMessage = error.response\r\n        ? JSON.stringify(error.response.data)\r\n        : \"An error occurred.\";\r\n      alert(`Error saving data: ${errorMessage}`);\r\n    }\r\n  };\r\n\r\n  return currentUser ? (\r\n    hashData ? (\r\n      <>\r\n        <div className=\"d-flex align-items-center justify-content-center mt-5\">\r\n          <MDBCard style={{ maxWidth: \"100rem\" }}>\r\n            <MDBCardHeader color=\"dark\">\r\n              <h4>Manage your stored data</h4>\r\n            </MDBCardHeader>\r\n            <MDBCardBody>\r\n              <p>\r\n                You can use this tool to manage the information that you store\r\n                in our server. This information is not in the blockchain.\r\n              </p>\r\n            </MDBCardBody>\r\n          </MDBCard>\r\n        </div>\r\n        <DataTable hashData={hashData} setHashData={setHashData} />\r\n        <div className=\"d-flex align-items-center justify-content-center mt-4\">\r\n          <MDBBtn onClick={toggleShow}>Save new hash</MDBBtn>\r\n        </div>\r\n        <MDBModal show={showModal} setShow={setShowModal} tabIndex=\"-1\">\r\n          <MDBModalDialog className=\"modal-lg\">\r\n            <MDBModalContent>\r\n              <MDBModalHeader>\r\n                <MDBModalTitle>\r\n                  Please enter the required information\r\n                </MDBModalTitle>\r\n                <MDBBtn\r\n                  className=\"btn-close\"\r\n                  color=\"none\"\r\n                  onClick={() => {\r\n                    toggleShow();\r\n                  }}\r\n                ></MDBBtn>\r\n              </MDBModalHeader>\r\n              <MDBModalBody>\r\n                <form onSubmit={handleSave} className=\"align-items-center\">\r\n                  <MDBInput\r\n                    className=\"mt-3\"\r\n                    type=\"text\"\r\n                    id=\"hash_value\"\r\n                    name=\"hash_value\"\r\n                    label=\"Hash\"\r\n                    maxLength={66} // bytes32 length in hexadecimal\r\n                    pattern=\"^0x[a-fA-F0-9]{64}$\" // Ensure it starts with 0x and followed by 64 hexadecimal characters\r\n                    value={hashValue} // initial value: the hash value of the selected hash\r\n                    onChange={handleHashChange}\r\n                    required\r\n                  />\r\n                  <MDBTextArea\r\n                    className=\"mt-3\"\r\n                    id=\"description\"\r\n                    name=\"description\"\r\n                    rows={4}\r\n                    label=\"Description\"\r\n                    value={description} // initial value: the description of the selected hash\r\n                    onChange={handleDescriptionChange}\r\n                    required\r\n                  />\r\n\r\n                  <MDBBtn type=\"submit\" className=\"mt-4\" block>\r\n                    Update\r\n                  </MDBBtn>\r\n                </form>\r\n              </MDBModalBody>\r\n            </MDBModalContent>\r\n          </MDBModalDialog>\r\n        </MDBModal>\r\n      </>\r\n    ) : (\r\n      <LoadingComponent />\r\n    )\r\n  ) : (\r\n    <NotLoggedInComponent />\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}